<!--pages/login/login.wxml-->
<view class="page-container">
  <view class="login-header">
    <view class="logo-wrapper">
      <view class="logo-bg">
        <t-image src="/assets/images/logo.png" shape="round" error="slot" width="72" height="72">
      <text class="error-text" slot="error">加载失败</text>
    </t-image>
        
      </view>
    </view>
    <text class="title">社区环境管理</text>
    <text class="subtitle">共建美好家园</text>
  </view>

  <view class="login-form">
    <view class="form-card">
      <view class="form-header">
        <t-icon name="user" size="48rpx" color="var(--td-brand-color)"></t-icon>
        <text class="form-title">欢迎登录</text>
      </view>

      <view class="form-fields">
        <view class="field-item">
          <view class="field-label">
            <t-icon name="mobile" size="24rpx" color="var(--td-brand-color)"></t-icon>
            <text class="label-text">手机号</text>
          </view>
          <view class="field-input">
            <t-input type="number" placeholder="请输入手机号" value="{{phone}}" bindchange="onPhoneInput" maxlength="11" clearable="{{true}}" class="input-field" />
          </view>
        </view>

        <view class="field-item">
          <view class="field-label">
            <t-icon name="lock-on" size="24rpx" color="var(--td-brand-color)"></t-icon>
            <text class="label-text">验证码</text>
          </view>
          <view class="field-input code-input">
            <t-input type="number" placeholder="请输入验证码" value="{{code}}" bindchange="onCodeInput" maxlength="6" clearable="{{true}}" class="input-field" />
            <view class="code-btn" bindtap="sendCode">
              <text class="code-btn-text">{{codeBtnText}}</text>
            </view>
          </view>
        </view>
      </view>
      <t-button theme="primary" size="large" bindtap="login" class="form-actions" >登录</t-button>
    </view>
  </view>

  <view class="login-footer">
    <text class="tips">登录即表示同意</text>
    <text class="link" bindtap="showPrivacy">《隐私政策》</text>
    <text class="tips">和</text>
    <text class="link" bindtap="showTerms">《服务条款》</text>
  </view>
</view>